<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Password Toggle - Las Gemelas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .test-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 600px;
            margin: 0 auto;
        }
        .input-container {
            position: relative;
            margin: 20px 0;
        }
        
        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            font-size: 20px;
            z-index: 10;
            color: #6c757d;
            transition: color 0.3s ease;
            user-select: none;
            padding: 5px;
        }
        
        .toggle-password:hover {
            color: #495057;
            background-color: #f8f9fa;
            border-radius: 50%;
        }
        
        .input-container input[type="password"],
        .input-container input[type="text"] {
            padding-right: 50px;
        }
        
        .demo-section {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="test-container">
            <h2 class="text-center mb-4">üîê Test Password Toggle</h2>
            
            <!-- Demo 1: M√©todo Original -->
            <div class="demo-section">
                <h5>Demo 1: M√©todo Original (Como en registro)</h5>
                <div class="input-container">
                    <label for="password1" class="form-label">Contrase√±a:</label>
                    <input type="password" id="password1" class="form-control" placeholder="Escribe una contrase√±a">
                    <span class="toggle-password" id="toggle1">üëÅÔ∏è</span>
                </div>
                <small class="text-muted">Estado: <span id="status1">Oculta</span></small>
            </div>
            
            <!-- Demo 2: M√©todo Mejorado -->
            <div class="demo-section">
                <h5>Demo 2: M√©todo Mejorado</h5>
                <div class="input-container">
                    <label for="password2" class="form-label">Contrase√±a:</label>
                    <input type="password" id="password2" class="form-control" placeholder="Escribe una contrase√±a">
                    <span class="toggle-password" id="toggle2" title="Mostrar contrase√±a">üëÅÔ∏è</span>
                </div>
                <small class="text-muted">Estado: <span id="status2">Oculta</span></small>
            </div>
            
            <!-- Demo 3: Con Bootstrap Icons -->
            <div class="demo-section">
                <h5>Demo 3: Con Bootstrap Icons</h5>
                <div class="input-group">
                    <input type="password" id="password3" class="form-control" placeholder="Escribe una contrase√±a">
                    <button class="btn btn-outline-secondary" type="button" id="toggle3">
                        <i class="bi bi-eye" id="icon3"></i>
                    </button>
                </div>
                <small class="text-muted">Estado: <span id="status3">Oculta</span></small>
            </div>
            
            <!-- Informaci√≥n de Debug -->
            <div class="demo-section">
                <h5>Debug Info</h5>
                <div id="debugInfo" class="font-monospace small"></div>
            </div>
            
            <div class="text-center mt-4">
                <button class="btn btn-primary" onclick="testAllToggles()">üß™ Probar Todos</button>
                <button class="btn btn-secondary" onclick="clearPasswords()">üóëÔ∏è Limpiar</button>
            </div>
            
            <div class="text-center mt-3">
                <a href="registro.html" class="btn btn-outline-primary">üìù Ir al Registro</a>
                <a href="index.html" class="btn btn-outline-secondary">üè† Inicio</a>
            </div>
        </div>
    </div>

    <script>
        let debugLog = [];

        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            debugLog.push(`[${timestamp}] ${message}`);
            document.getElementById('debugInfo').innerHTML = debugLog.slice(-10).join('<br>');
            console.log(message);
        }

        // Demo 1: M√©todo Original
        document.getElementById('toggle1').addEventListener('click', function() {
            const passwordInput = document.getElementById('password1');
            const toggleIcon = this;
            const statusSpan = document.getElementById('status1');
            
            log('Demo 1: Toggle clicked');
            
            const currentType = passwordInput.getAttribute('type');
            const newType = currentType === 'password' ? 'text' : 'password';
            
            passwordInput.setAttribute('type', newType);
            
            if (newType === 'password') {
                toggleIcon.textContent = 'üëÅÔ∏è';
                statusSpan.textContent = 'Oculta';
            } else {
                toggleIcon.textContent = 'üôà';
                statusSpan.textContent = 'Visible';
            }
            
            log(`Demo 1: Changed to ${newType}`);
        });

        // Demo 2: M√©todo Mejorado
        document.getElementById('toggle2').addEventListener('click', function() {
            const passwordInput = document.getElementById('password2');
            const toggleIcon = this;
            const statusSpan = document.getElementById('status2');
            
            log('Demo 2: Toggle clicked');
            
            const isPassword = passwordInput.type === 'password';
            
            passwordInput.type = isPassword ? 'text' : 'password';
            
            if (isPassword) {
                toggleIcon.textContent = 'üôà';
                toggleIcon.title = 'Ocultar contrase√±a';
                statusSpan.textContent = 'Visible';
            } else {
                toggleIcon.textContent = 'üëÅÔ∏è';
                toggleIcon.title = 'Mostrar contrase√±a';
                statusSpan.textContent = 'Oculta';
            }
            
            log(`Demo 2: Changed to ${passwordInput.type}`);
        });

        // Demo 3: Con Bootstrap Icons
        document.getElementById('toggle3').addEventListener('click', function() {
            const passwordInput = document.getElementById('password3');
            const icon = document.getElementById('icon3');
            const statusSpan = document.getElementById('status3');
            
            log('Demo 3: Toggle clicked');
            
            const isPassword = passwordInput.type === 'password';
            
            passwordInput.type = isPassword ? 'text' : 'password';
            
            if (isPassword) {
                icon.className = 'bi bi-eye-slash';
                statusSpan.textContent = 'Visible';
            } else {
                icon.className = 'bi bi-eye';
                statusSpan.textContent = 'Oculta';
            }
            
            log(`Demo 3: Changed to ${passwordInput.type}`);
        });

        function testAllToggles() {
            log('Testing all toggles...');
            
            // Llenar campos con texto de prueba
            document.getElementById('password1').value = 'TestPassword123!';
            document.getElementById('password2').value = 'TestPassword123!';
            document.getElementById('password3').value = 'TestPassword123!';
            
            log('Passwords filled with test data');
            
            // Simular clicks
            setTimeout(() => {
                document.getElementById('toggle1').click();
                log('Clicked toggle 1');
            }, 500);
            
            setTimeout(() => {
                document.getElementById('toggle2').click();
                log('Clicked toggle 2');
            }, 1000);
            
            setTimeout(() => {
                document.getElementById('toggle3').click();
                log('Clicked toggle 3');
            }, 1500);
        }

        function clearPasswords() {
            document.getElementById('password1').value = '';
            document.getElementById('password2').value = '';
            document.getElementById('password3').value = '';
            
            // Reset toggles
            document.getElementById('password1').type = 'password';
            document.getElementById('password2').type = 'password';
            document.getElementById('password3').type = 'password';
            
            document.getElementById('toggle1').textContent = 'üëÅÔ∏è';
            document.getElementById('toggle2').textContent = 'üëÅÔ∏è';
            document.getElementById('icon3').className = 'bi bi-eye';
            
            document.getElementById('status1').textContent = 'Oculta';
            document.getElementById('status2').textContent = 'Oculta';
            document.getElementById('status3').textContent = 'Oculta';
            
            debugLog = [];
            document.getElementById('debugInfo').innerHTML = '';
            
            log('All passwords cleared and reset');
        }

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            log('Page loaded - Password toggle test ready');
        });
    </script>
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</body>
</html>